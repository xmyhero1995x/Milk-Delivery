(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(t,e,n){t.exports={"cart-items":"Cart_cart-items__l_Bbi",total:"Cart_total__hatvW",actions:"Cart_actions__1Pd6j","button--alt":"Cart_button--alt__3A9FZ",button:"Cart_button__1mVvy"}},function(t,e,n){t.exports={"cart-item":"CartItem_cart-item__2QfRq",summary:"CartItem_summary__3L7jr",price:"CartItem_price__vUbEl",amount:"CartItem_amount__3Vf-G",actions:"CartItem_actions__8rYjd"}},,,,function(t,e,n){t.exports={button:"HeaderCartButton_button__23skT",icon:"HeaderCartButton_icon__eYU6p",badge:"HeaderCartButton_badge__39m2y",bump:"HeaderCartButton_bump__2-U86"}},,function(t,e,n){t.exports={backdrop:"Modal_backdrop__3nxmu",modal:"Modal_modal__2tJ6n","slide-down":"Modal_slide-down__1ahqN"}},function(t,e,n){t.exports={milk:"MilkItem_milk__2ijHi",description:"MilkItem_description__2mBjM",price:"MilkItem_price__1MrSD"}},,function(t,e,n){t.exports={header:"Header_header__BquMe","main-image":"Header_main-image__1Uzse"}},,function(t,e,n){t.exports={card:"Card_card__29Mek"}},function(t,e,n){t.exports={input:"Input_input__3_fti"}},function(t,e,n){t.exports={form:"MilkItemForm_form__23ua4"}},function(t,e,n){t.exports={milk:"MilkList_milk__31tKM","meals-appear":"MilkList_meals-appear__1OSRq"}},function(t,e,n){t.exports={"promo-text":"PromoText_promo-text__2LRxh"}},,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var i=n(7),c=n.n(i),a=(n(24),n(3)),r=n(1),o=n.n(r),s=n(2),m=n(6),d=n(11),l=n.n(d),u=n(0),j=function(t){return Object(u.jsx)("div",{className:l.a.backdrop,onClick:t.onHideCart})},b=function(t){return Object(u.jsx)("div",{className:l.a.modal,children:Object(u.jsx)("div",{className:l.a.content,children:t.children})})},x=function(t){var e=document.getElementById("overlays");return Object(u.jsxs)(m.Fragment,{children:[c.a.createPortal(Object(u.jsx)(j,{onHideCart:t.onHideCart}),e),c.a.createPortal(Object(u.jsx)(b,{children:t.children}),e)]})},O=o.a.createContext({items:[],totalAmount:0,addItem:function(){},removeItem:function(){}}),p=n(4),_=n.n(p),h=n(5),f=n.n(h),v=function(t){var e="$".concat(t.price.toFixed(2));return Object(u.jsxs)("li",{className:f.a["cart-item"],children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:t.name}),Object(u.jsxs)("div",{className:f.a.summary,children:[Object(u.jsx)("span",{className:f.a.price,children:e}),Object(u.jsxs)("span",{className:f.a.amount,children:["x ",t.amount]})]})]}),Object(u.jsxs)("div",{className:f.a.actions,children:[Object(u.jsx)("button",{onClick:t.onRemove,children:"\u2212"}),Object(u.jsx)("button",{onClick:t.onAdd,children:"+"})]})]})},C=function(t){var e=Object(r.useContext)(O),n="$".concat(Math.abs(e.totalAmount).toFixed(2)),i=e.items.length>0,c=function(t){e.removeItem({id:t})},a=function(t){e.addItem(Object(s.a)(Object(s.a)({},t),{},{amount:1}))},o=Object(u.jsx)("ul",{className:_.a["cart-items"],children:e.items.map((function(t){return Object(u.jsx)(v,{name:t.name,amount:t.amount,price:t.price,onAdd:a.bind(null,t),onRemove:c.bind(null,t.id)},t.id)}))});return Object(u.jsxs)(x,{onHideCart:t.onHideCart,children:[o,Object(u.jsxs)("div",{className:_.a.total,children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{children:n})]}),Object(u.jsxs)("div",{className:_.a.actions,children:[Object(u.jsx)("button",{className:_.a["button--alt"],onClick:t.onHideCart,children:"Close"}),i&&Object(u.jsx)("button",{className:_.a.button,children:"Order"})]})]})},k=n.p+"static/media/background.7e2927a0.jpg",M=function(){return Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(u.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},N=n(9),I=n.n(N),g=function(t){var e=Object(r.useState)(!1),n=Object(a.a)(e,2),i=n[0],c=n[1],o=Object(r.useContext)(O),s=o.items.reduce((function(t,e){return t+e.amount}),0),m="".concat(I.a.button," ").concat(i?I.a.bump:"");return Object(r.useEffect)((function(){if(0!==o.items.length){c(!0);var t=setTimeout((function(){c(!1)}),300);return function(){clearTimeout(t)}}}),[o.items]),Object(u.jsxs)("button",{className:m,onClick:t.onClick,children:[Object(u.jsx)("span",{className:I.a.icon,children:Object(u.jsx)(M,{})}),Object(u.jsx)("span",{children:"Cart"}),Object(u.jsx)("span",{className:I.a.badge,children:s})]})},A=n(14),H=n.n(A),y=function(t){return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("header",{className:H.a.header,children:[Object(u.jsx)("h1",{children:"Milk Delivery"}),Object(u.jsx)(g,{onClick:t.onShowCart})]}),Object(u.jsx)("div",{className:H.a["main-image"],children:Object(u.jsx)("img",{src:k,alt:"field"})})]})},E=n(16),w=n.n(E),B=function(t){return Object(u.jsx)("div",{className:w.a.card,children:t.children})},R=n(12),S=n.n(R),T=n(17),F=n.n(T),D=o.a.forwardRef((function(t,e){return Object(u.jsxs)("div",{className:F.a.input,children:[Object(u.jsx)("label",{htmlFor:t.input.id,children:t.label}),Object(u.jsx)("input",Object(s.a)({ref:e},t.input))]})})),L=n(18),P=n.n(L),V=function(t){var e=Object(r.useState)(!0),n=Object(a.a)(e,2),i=n[0],c=n[1],o=Object(r.useRef)();return Object(u.jsxs)("form",{className:P.a.form,onSubmit:function(e){e.preventDefault();var n=o.current.value;0===n.trim().length||+n<1||+n>15?c(!1):t.onAddToCart(+n)},children:[Object(u.jsx)(D,{ref:o,label:"Amount",input:{id:t.id,type:"number",min:"1",step:"1",defaultValue:"1"}}),Object(u.jsx)("button",{children:"Add"}),!i&&Object(u.jsx)("p",{children:"Enter number from 1 to 15"})]})},q=function(t){var e=Object(r.useContext)(O),n="$".concat(t.price.toFixed(2));return Object(u.jsxs)("li",{className:S.a.milk,children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{children:t.name})}),Object(u.jsx)("div",{className:S.a.description,children:t.description}),Object(u.jsx)("div",{className:S.a.price,children:n}),Object(u.jsx)("div",{children:Object(u.jsx)(V,{onAddToCart:function(n){e.addItem({id:t.id,name:t.name,amount:n,price:t.price})},id:t.id})})]},t.id)},z=n(19),U=n.n(z),J=[{id:"m1",name:"XS Milk",description:"500ml",price:2.99},{id:"m2",name:"S Milk",description:"800ml",price:3.99},{id:"m3",name:"M Milk",description:"1100ml",price:5.99},{id:"m4",name:"L Milk",description:"1400ml",price:7.99}],$=function(){var t=J.map((function(t){return Object(u.jsx)(q,{name:t.name,price:t.price,id:t.id,description:t.description},t.id)}));return Object(u.jsx)("section",{className:U.a.milk,children:Object(u.jsx)(B,{children:Object(u.jsx)("ul",{children:t})})})},Y=n(20),G=n.n(Y),K=function(){return Object(u.jsxs)("section",{className:G.a["promo-text"],children:[Object(u.jsx)("h2",{children:"Milk delivery to your home"}),Object(u.jsx)("p",{children:" about milk delivery"})]})},Q=function(){return Object(u.jsxs)(m.Fragment,{children:[Object(u.jsx)(K,{}),Object(u.jsx)($,{})]})},W=n(15),X={items:[],totalAmount:0},Z=function(t,e){if("ADD_ITEM"===e.type){var n,i,c=t.totalAmount+e.item.price*e.item.amount,a=t.items.findIndex((function(t){return t.id===e.item.id})),r=t.items[a];return r?(n=Object(s.a)(Object(s.a)({},r),{},{amount:r.amount+e.item.amount}),(i=Object(W.a)(t.items))[a]=n):(n=Object(s.a)({},e.item),i=t.items.concat(e.item)),{items:i,totalAmount:c}}if("REMOVE_ITEM"===e.type){var o,m=t.items.findIndex((function(t){return t.id===e.item.id})),d=t.items[m],l=t.totalAmount-d.price;if(1===d.amount)o=t.items.filter((function(t){return t.id!==e.item.id}));else{var u=Object(s.a)(Object(s.a)({},d),{},{amount:d.amount-1});(o=Object(W.a)(t.items))[m]=u}return{items:o,totalAmount:l}}return X},tt=function(t){var e=Object(r.useReducer)(Z,X),n=Object(a.a)(e,2),i=n[0],c=n[1],o={items:i.items,totalAmount:i.totalAmount,addItem:function(t){c({type:"ADD_ITEM",item:t})},removeItem:function(t){c({type:"REMOVE_ITEM",item:t})}};return Object(u.jsx)(O.Provider,{value:o,children:t.children})};var et=function(){var t=Object(r.useState)(!1),e=Object(a.a)(t,2),n=e[0],i=e[1];return Object(u.jsxs)(tt,{children:[n&&Object(u.jsx)(C,{onHideCart:function(){i(!1)}}),Object(u.jsx)(y,{onShowCart:function(){i(!0)}}),Object(u.jsx)(Q,{})]})};c.a.render(Object(u.jsx)(et,{}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.51695190.chunk.js.map