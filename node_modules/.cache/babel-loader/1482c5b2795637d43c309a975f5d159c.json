{"ast":null,"code":"import _slicedToArray from\"C:/Main/Coding/milk-delivery/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{CartContext}from\"../../store/cart-context\";import{CartIcon}from\"./CartIcon\";import styles from\"./HeaderCartButton.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var HeaderCartButton=function HeaderCartButton(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isButtonAnimated=_useState2[0],setIsButtonAnimated=_useState2[1];var cartContext=useContext(CartContext);var cartItemsNumber=cartContext.items.reduce(function(currentValue,item){return currentValue+item.amount;},0);var buttonClasses=\"\".concat(styles.button,\" \").concat(isButtonAnimated?styles.bump:\"\");useEffect(function(){if(cartContext.items.length===0){return;}setIsButtonAnimated(true);var timer=setTimeout(function(){setIsButtonAnimated(false);},300);return function(){clearTimeout(timer);};},[cartContext.items]);return/*#__PURE__*/_jsxs(\"button\",{className:buttonClasses,onClick:props.onClick,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(CartIcon,{})}),/*#__PURE__*/_jsx(\"span\",{children:\"Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.badge,children:cartItemsNumber})]});};","map":{"version":3,"names":["useContext","useEffect","useState","CartContext","CartIcon","styles","HeaderCartButton","props","isButtonAnimated","setIsButtonAnimated","cartContext","cartItemsNumber","items","reduce","currentValue","item","amount","buttonClasses","button","bump","length","timer","setTimeout","clearTimeout","onClick","icon","badge"],"sources":["C:/Main/Coding/milk-delivery/src/components/Cart/HeaderCartButton.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { CartContext } from \"../../store/cart-context\";\r\nimport { CartIcon } from \"./CartIcon\";\r\nimport styles from \"./HeaderCartButton.module.css\";\r\n\r\nexport const HeaderCartButton = (props) => {\r\n  const [isButtonAnimated, setIsButtonAnimated] = useState(false);\r\n\r\n  const cartContext = useContext(CartContext);\r\n\r\n  const cartItemsNumber = cartContext.items.reduce((currentValue, item) => {\r\n    return currentValue + item.amount;\r\n  }, 0);\r\n\r\n  const buttonClasses = `${styles.button} ${\r\n    isButtonAnimated ? styles.bump : \"\"\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    if (cartContext.items.length === 0) {\r\n      return;\r\n    }\r\n    setIsButtonAnimated(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setIsButtonAnimated(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [cartContext.items]);\r\n\r\n  return (\r\n    <button className={buttonClasses} onClick={props.onClick}>\r\n      <span className={styles.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Cart</span>\r\n      <span className={styles.badge}>{cartItemsNumber}</span>\r\n    </button>\r\n  );\r\n};\r\n"],"mappings":"kHAAA,OAASA,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,WAAT,KAA4B,0BAA5B,CACA,OAASC,QAAT,KAAyB,YAAzB,CACA,MAAOC,OAAP,KAAmB,+BAAnB,C,wFAEA,MAAO,IAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,KAAD,CAAW,CACzC,cAAgDL,QAAQ,CAAC,KAAD,CAAxD,wCAAOM,gBAAP,eAAyBC,mBAAzB,eAEA,GAAMC,YAAW,CAAGV,UAAU,CAACG,WAAD,CAA9B,CAEA,GAAMQ,gBAAe,CAAGD,WAAW,CAACE,KAAZ,CAAkBC,MAAlB,CAAyB,SAACC,YAAD,CAAeC,IAAf,CAAwB,CACvE,MAAOD,aAAY,CAAGC,IAAI,CAACC,MAA3B,CACD,CAFuB,CAErB,CAFqB,CAAxB,CAIA,GAAMC,cAAa,WAAMZ,MAAM,CAACa,MAAb,aACjBV,gBAAgB,CAAGH,MAAM,CAACc,IAAV,CAAiB,EADhB,CAAnB,CAIAlB,SAAS,CAAC,UAAM,CACd,GAAIS,WAAW,CAACE,KAAZ,CAAkBQ,MAAlB,GAA6B,CAAjC,CAAoC,CAClC,OACD,CACDX,mBAAmB,CAAC,IAAD,CAAnB,CAEA,GAAMY,MAAK,CAAGC,UAAU,CAAC,UAAM,CAC7Bb,mBAAmB,CAAC,KAAD,CAAnB,CACD,CAFuB,CAErB,GAFqB,CAAxB,CAIA,MAAO,WAAM,CACXc,YAAY,CAACF,KAAD,CAAZ,CACD,CAFD,CAGD,CAbQ,CAaN,CAACX,WAAW,CAACE,KAAb,CAbM,CAAT,CAeA,mBACE,gBAAQ,SAAS,CAAEK,aAAnB,CAAkC,OAAO,CAAEV,KAAK,CAACiB,OAAjD,wBACE,aAAM,SAAS,CAAEnB,MAAM,CAACoB,IAAxB,uBACE,KAAC,QAAD,IADF,EADF,cAIE,8BAJF,cAKE,aAAM,SAAS,CAAEpB,MAAM,CAACqB,KAAxB,UAAgCf,eAAhC,EALF,GADF,CASD,CArCM"},"metadata":{},"sourceType":"module"}